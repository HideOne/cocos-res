# å‘½ä»¤é€ŸæŸ¥è¡¨

## ğŸ“¦ å®‰è£…

```bash
npm install
```

## ğŸš€ å¸¸ç”¨å‘½ä»¤

### JSON è½¬ plist

```bash
# å•æ–‡ä»¶
ts-node atlas-tools.ts convert <jsonæ–‡ä»¶> [plistæ–‡ä»¶]

# æ‰¹é‡
ts-node atlas-tools.ts batch-convert <è¾“å…¥ç›®å½•> [è¾“å‡ºç›®å½•]

# ç¤ºä¾‹
ts-node atlas-tools.ts convert 0faa447ee.json hetu.plist
```

### åˆ‡å‰²å›¾é›†

```bash
# å•ä¸ªå›¾é›†
ts-node atlas-tools.ts slice <å›¾ç‰‡> <plist> [è¾“å‡ºç›®å½•]

# æ‰¹é‡
ts-node atlas-tools.ts batch-slice <ç›®å½•>

# ç¤ºä¾‹
ts-node atlas-tools.ts slice hetu.png hetu.plist
ts-node atlas-tools.ts batch-slice ./textures
```

### å®Œæ•´æµç¨‹

```bash
# JSON -> plist -> åˆ‡å›¾
ts-node atlas-tools.ts full <json> <å›¾ç‰‡> [è¾“å‡ºç›®å½•]

# ç¤ºä¾‹
ts-node atlas-tools.ts full 0faa447ee.json hetu.png ./output
```

## ğŸ› ï¸ npm è„šæœ¬

```bash
npm run tools -- convert <json> [plist]          # JSON è½¬ plist
npm run tools -- slice <image> <plist>           # åˆ‡å›¾
npm run tools -- full <json> <image>             # å®Œæ•´æµç¨‹
npm run help                                     # æŸ¥çœ‹å¸®åŠ©
npm run build                                    # ç¼–è¯‘ TS
npm run example                                  # è½¬æ¢ç¤ºä¾‹
npm run example:slice                            # åˆ‡å›¾ç¤ºä¾‹
```

## ğŸ“ ç›´æ¥ä½¿ç”¨è„šæœ¬

### æ–¹å¼ 1: ä½¿ç”¨ ts-nodeï¼ˆæ¨èå¼€å‘ï¼‰

```bash
ts-node json-to-plist-converter.ts <json> [plist]
ts-node slice-atlas.ts <image> <plist> [output]
```

### æ–¹å¼ 2: ä½¿ç”¨ç¼–è¯‘åçš„ JSï¼ˆæ¨èç”Ÿäº§ï¼‰

```bash
node json-to-plist-converter.js <json> [plist]
```

## ğŸ¯ å¿«é€Ÿç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šè½¬æ¢å•ä¸ªæ–‡ä»¶

```bash
ts-node atlas-tools.ts convert \
  "D:\work\test\fnt\build\web-mobile\assets\resources\import\0f\0faa447ee.json" \
  "D:\work\test\fnt\assets\resources\pic\hetu.plist"
```

### ç¤ºä¾‹ 2ï¼šåˆ‡å‰²å•ä¸ªå›¾é›†

```bash
ts-node atlas-tools.ts slice \
  "D:\work\test\fnt\assets\resources\pic\hetu.png" \
  "D:\work\test\fnt\assets\resources\pic\hetu.plist"
```

### ç¤ºä¾‹ 3ï¼šå®Œæ•´æµç¨‹

```bash
ts-node atlas-tools.ts full \
  "D:\work\test\fnt\build\web-mobile\assets\resources\import\0f\0faa447ee.json" \
  "D:\work\test\fnt\assets\resources\pic\hetu.png" \
  "./sliced-output"
```

### ç¤ºä¾‹ 4ï¼šæ‰¹é‡è½¬æ¢

```bash
ts-node atlas-tools.ts batch-convert \
  "d:\suyu\cocosRes\activity-album\import\01" \
  "d:\suyu\cocosRes\activity-album\plist-output"
```

### ç¤ºä¾‹ 5ï¼šæ‰¹é‡åˆ‡å›¾

```bash
ts-node atlas-tools.ts batch-slice \
  "d:\suyu\cocosRes\activity-album\out\res\pic"
```

## ğŸ’¡ æç¤º

### Windows è·¯å¾„

```bash
# âœ“ æ­£ç¡®
"D:\\path\\to\\file"
"D:/path/to/file"

# âœ— é”™è¯¯
"D:\path\to\file"
```

### ç›¸å¯¹è·¯å¾„

```bash
# å½“å‰ç›®å½•
./file.json

# çˆ¶ç›®å½•
../file.json

# ç»å¯¹è·¯å¾„
D:/work/file.json
```

## ğŸ” æŸ¥çœ‹è¾“å‡º

### é»˜è®¤è¾“å‡ºä½ç½®

- **plist**: JSON æ–‡ä»¶åŒç›®å½•ï¼ŒåŒå .plist
- **åˆ‡å›¾**: å›¾ç‰‡åŒç›®å½•ï¼ŒåŒåæ–‡ä»¶å¤¹

### ç¤ºä¾‹

```
è¾“å…¥ï¼š
  hetu.png
  hetu.plist

è¾“å‡ºï¼š
  hetu/           # åˆ‡å›¾ç›®å½•
    â”œâ”€â”€ sprite1.png
    â”œâ”€â”€ sprite2.png
    â””â”€â”€ sprite3.png
```

## âš™ï¸ é«˜çº§ç”¨æ³•

### åœ¨ä»£ç ä¸­ä½¿ç”¨

```typescript
// å¯¼å…¥æ¨¡å—
import { convertJSONToPlist } from './json-to-plist-converter';
import { sliceAtlas } from './slice-atlas';

// è½¬æ¢
convertJSONToPlist('input.json', 'output.plist');

// åˆ‡å›¾
await sliceAtlas('image.png', 'image.plist');
```

### æ‰¹é‡å¤„ç†

```typescript
import { convertDirectory } from './json-to-plist-converter';
import { sliceAtlasDirectory } from './slice-atlas';

// æ‰¹é‡è½¬æ¢
convertDirectory('./input', './output');

// æ‰¹é‡åˆ‡å›¾
await sliceAtlasDirectory('./textures');
```

## ğŸ› è°ƒè¯•

### å¯ç”¨è¯¦ç»†è¾“å‡º

ä¿®æ”¹è„šæœ¬é¡¶éƒ¨çš„ console.log å±è”½è®¾ç½®ï¼š

```typescript
// json-to-plist-converter.ts
// æ³¨é‡Šæ‰è¿™ä¸¤è¡Œ
// console.log = function () { };
// console.error = function () { };
```

### è¿è¡Œæµ‹è¯•

```bash
ts-node test-slice.ts
```

## ğŸ“š æ›´å¤šæ–‡æ¡£

- `README.md` - ä¸»æ–‡æ¡£
- `README-converter.md` - JSON è½¬æ¢è¯¦ç»†æ–‡æ¡£
- `åˆ‡å›¾å·¥å…·è¯´æ˜.md` - åˆ‡å›¾å·¥å…·è¯¦ç»†è¯´æ˜
- `QUICKSTART.md` - å¿«é€Ÿå¼€å§‹
- `ä½¿ç”¨è¯´æ˜.md` - JSON è½¬æ¢ä½¿ç”¨è¯´æ˜

## ğŸ†˜ è·å–å¸®åŠ©

```bash
# æŸ¥çœ‹å‘½ä»¤å¸®åŠ©
ts-node atlas-tools.ts --help

# æŸ¥çœ‹ç‰ˆæœ¬
ts-node atlas-tools.ts --version
```

## ğŸ“ å¸¸è§é—®é¢˜

### é—®é¢˜ï¼šæ¨¡å—æ‰¾ä¸åˆ°

```bash
# è§£å†³æ–¹æ¡ˆï¼šå®‰è£…ä¾èµ–
npm install
```

### é—®é¢˜ï¼šsharp å®‰è£…å¤±è´¥

```bash
# è§£å†³æ–¹æ¡ˆï¼šæ¸…é™¤ç¼“å­˜é‡è£…
npm cache clean --force
npm install sharp
```

### é—®é¢˜ï¼šæƒé™é”™è¯¯

```bash
# Windows: ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ
# Linux/Mac: ä½¿ç”¨ sudo
sudo npm install
```

---

**å¿«é€Ÿå¼€å§‹ï¼š** `npm install` â†’ `ts-node atlas-tools.ts --help`
